<section class="main-header">
  <div class="hero">
    <%= image_tag 'logo.png', class: 'img-responsive' %>
    <br>
    <hr>
    <h1>Brothers, Fathers<br>Sons and Friends</h1>
    <h3>Men making a difference in their community.</h3>
    <hr>
    <br>
    <a href="#next"><p>Learn More</p><i class="fa fa-angle-down fa-3x"></i></a>
  </div>
</section>

<section class="newsletter" id="next">
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-10 col-sm-offset-1">
        <h3>What Is A Man? Newsletter</h3>
        <p>Subscribe to our newsletter for the latest updates on What Is A Man?</p>
        <div class="col-xs-12 col-sm-6 col-sm-offset-3">
          <%= simple_form_for Newsletter.new, remote: true, html: {class: "animated"} do |f| %>
            <div class="news">
              <div class="col-sm-4">
                <%= f.input :name, label: false, placeholder: "Name", input_html: {class: 'form-control'} %>
              </div>
              <div class="col-sm-4">
                <%= f.input :email, label: false, placeholder: "Email", input_html: {class: 'form-control'} %>
              </div>
              <div class="col-sm-4">
                <%= f.button :submit, :name => 'commit', :id=>"news_create_form_submit", class: 'btn btn-default'  %>
              </div>
            </div>
            <div class="news_thank_you" style="display:none;">
              <h3>Thank you for Subscribing!</h3>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="about">
  <div class="bkg"></div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-xs-12">
        <p>Join us for the 2nd Annual</p>
        <h1>MEN OF DORAL BBQ CHALLENGE</h1>
        <hr>
      </div>
    </div>
    <div class="space50"></div>
    <div class="row">
      <div class="col-sm-10 col-sm-offset-1">
        <div class="col-xs-12 col-sm-6 col-sm-offset-3">
          <p class="loco">Come join us Sarurday, June 13th for an unforgettable day of food, fun and grillin'! Calling all fathers and sons to a real man's competition. Event registration attached and information attached.</p>
          <div class="space50"></div>
          <a href= "https://s3-us-west-2.amazonaws.com/men-of-doral/BBQ+challenge+rules.pdf" target="_blank" class="btn btn-cool">Download Rules</a><a href="#getstarted" class="btn btn-cool" style="margin-right:0px;">Get Started Now</a>
        </div>
      </div>
    </div>
  </div>
</section>


<section class="registration" id="getstarted" >
  <div class="container-fluid">
    <div class="row">
      <div class="col-xs-12">
        <h1>Advertisement Packages</h1>
        <p>Choose from three availible options</p>
        <%= button_tag(type: 'button', class: "btn btn-default", data: {toggle:"modal", target:"#advertisement_package"}) do %>
          <%= content_tag(:strong, 'Package') %>
        <% end %>
      </div>
    </div>
  </div>
</section>

<div class="modal fade" id="advertisement_package" tabindex="-1" role="dialog" aria-labelledby="advertisement_package_form" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="advertisement_package_form">Adverisment Package</h4>
      </div>
      <div class="modal-body">
        <%= render partial: "advertistment_packages/form", object: AdvertistmentPackage.new %>
      </div>
    </div>
  </div>
</div>



<section class="contact">
  <div class="container-fluid">
    <div class="row">
      <div class="center">
        <div class="contact_form_shown">
          <h2>Contact Us</h2>
          <p>For more information about this event please fill out form below.</p>
          <%= simple_form_for Contact.new, remote: true, html: {class: "animated"} do |f| %>
            <%= f.error_notification %>

            <div class="col-sm-4 col-sm-offset-4">
              <div class="row">
                <%= f.input :name, label: false, placeholder: "Name", input_html: {class: 'form-control add-top-margin'} %>
              </div>
              <div class="row">
                <%= f.input :email, label: false, placeholder: "Email", input_html: {class: 'form-control add-top-margin'} %>
              </div>
              <div class="row">
                <%= f.input :phone_number, label: false, placeholder: "Phone Number", input_html: {class: 'form-control add-top-margin'} %>
              </div>
              <div class="row">
                <%= f.input :message, label: false, placeholder: "Message", input_html: {class: 'form-control add-top-margin'}  %>
              </div><br>
              <div class="row">
                <%= f.button :submit, :name => 'commit', :id=>"person_create_form_submit", class: 'btn btn-default'  %>
              </div>
            </div>
          <% end %>
        </div>
        <div class="contact_form_hidden" style="display:none;">
          <h2>WE HAVE RECEIVED YOUR MESSAGE</h2><p>A REPRESENTATIVE WILL CONTACT YOU SHORTLY</p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="team_registration">
  <div class="container-fluid">
    <div class="row">
      <div class="center">
        <div class="row">
          <h2>Register A Team</h2>
          <p>A team consists of max 4 people!</p>
        </div>
        <div class="row">
          <%= button_tag(type: 'button', class: "btn btn-default", data: {toggle:"modal", target:"#team_registration"}) do %>
            <%= content_tag(:strong, 'Sign Up!') %>
          <% end %>
      </div>
      </div>
    </div>
  </div>
</section>


<!-- Modal -->
<div class="modal fade" id="team_registration" tabindex="-1" role="dialog" aria-labelledby="team_registration_form" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="team_registration_form">Team Registration</h4>
      </div>
      <div class="modal-body">
        <%= render partial: "team_registrations/form", object: TeamRegistration.new %>
      </div>
    </div>
  </div>
</div>


<script type="text/javascript">
// Contact Form Validations
  $('#new_newsletter').validate()
  $("#new_team_registration").validate()
  $("#new_advertistment_package").validate()
  $("#new_contact").validate({
    rules: {
      "contact[name]": {required: true},
      "contact[email]": {required: true, email: true},
      "contact[phone_number]": {required: true, minlength: 10}
    }
  });
</script>

<script type="text/javascript">
  $('#news_create_form_submit').closest('form').on('ajax:success', function() {
    $(".news").hide(200)
    $(".news_thank_you").show(200)
  })
  $('#news_create_form_submit').closest('form').on('ajax:error', function() {
    $('.news').prepend("<div><h4>Please check your submission.</h4></div>").css('color','red')
    $(this).addClass('shake');
  })

  $('#person_create_form_submit').closest('form').on('ajax:success', function() {
    $(".contact_form_shown").hide(200)
    $(".contact_form_hidden").show(200)
  })
  $('#person_create_form_submit').closest('form').on('ajax:error', function() {
    $('.contact').prepend("<div><h4>Please check your submission.</h4></div>").css('color','red')
    $(this).addClass('shake');
  })
</script>
